rename ÏãúÎèÑ ÌõÑÏóê escÎ•º ÎàÑÎ•¥Î©¥ Ïä§ÌÅ¨Î°§Ïù¥ ÏõÄÏßÅÏù¥ÎäîÎç∞ Í∑∏Í±¥ ÏôúÍ∑∏Îü∞Í±∞Ïïº?
GPT => ÏõêÏù∏ÏùÄ Esc Ï∑®ÏÜåÏôÄ blur Ï≤òÎ¶¨Ïùò Ï°∞Ìï© ÎïåÎ¨∏ÏûÖÎãàÎã§.

  - rename inputÏóê on:blur={commitRename}Í∞Ä Í±∏Î†§ ÏûàÏùå (src/
    App.svelte:1497)
  - Esc ÎàÑÎ•¥Î©¥ cancelRename()Î°ú inputÏùÑ Ï†úÍ±∞Ìï® (src/
    App.svelte:10491052, src/App.svelte:961967)
  - inputÏù¥ ÏÇ¨ÎùºÏßÄÎ©¥ÏÑú blurÍ∞Ä Î∞úÏÉùÌïòÍ≥†, Ïù¥Îïå Ìè¨Ïª§Ïä§Í∞Ä Îã§Î•∏ ÏöîÏÜå(Ìñâ/Î¨∏
    ÏÑú)Î°ú Ïù¥ÎèôÌïòÎ©¥ÏÑú Î∏åÎùºÏö∞Ï†ÄÍ∞Ä ‚ÄúÌè¨Ïª§Ïä§ ÏöîÏÜåÎ•º Î≥¥Ïù¥Í≤å‚Äù ÌïòÎ†§Í≥† Ïä§ÌÅ¨Î°§
    Ïª®ÌÖåÏù¥ÎÑàÎ•º ÏÇ¥Ïßù ÏõÄÏßÅÏùº Ïàò ÏûàÏùå
      - ÌñâÏù¥ tabindex="0"Ïù¥Îùº ÏòÅÌñ•Ïù¥ Îçî ÌÅº (src/App.svelte:1484)
  - ÌÉÄÏù¥Î∞çÏóê Îî∞Îùº commitRename() Í≤ΩÎ°úÍ∞Ä Ïã§ÌñâÎêòÎ©¥ runSearch()ÏóêÏÑú
    scrollTop=0Ïù¥ Í±∏Î†§ Îçî ÌÅ¨Í≤å ÏõÄÏßÅÏùº ÏàòÎèÑ ÏûàÏùå (src/App.svelte:504)

  Ï¶â, Íµ¨Ï°∞Ï†ÅÏúºÎ°ú Esc Ï∑®ÏÜåÏôÄ blur Ïª§Î∞ãÏù¥ Ï∂©ÎèåÌïòÎäî Ìå®ÌÑ¥ÏûÖÎãàÎã§.
  ÏõêÌïòÎ©¥ Ïù¥Í±∏ Í∏∞Ï§ÄÏúºÎ°ú Ïä§ÌÅ¨Î°§ Ïïà ÏõÄÏßÅÏù¥Í≤å Î∞îÎ°ú ÏàòÏ†ïÌï¥ÎìúÎ¶¥Í≤åÏöî.


Ïù¥Í±∞ ÎßûÏïÑ?

---

Í∑∏Îüº Î∞îÎ°ú ÏàòÏ†ïÌï¥Ï§ò

---

ÏûÖÎ†•Ï∞ΩÏóê ÌÖçÏä§Ìä∏ ÏûÖÎ†•Ìïú ÏÉÅÌÉúÏóêÏÑú  escÎ•º ÎàÑÎ•¥Î©¥ Ïñ¥ÎñªÍ≤å ÎèôÏûëÌï¥Ïïº Ìï†Íπå?

---

[Request interrupted by user for tool use]

---

ÏßÄÍ∏à ÏàòÏ†ïÌïòÍ≥† ÏûàÎäî ÏûÖÎ†•Ï∞Ω ÏàòÏ†ï ÎπºÍ≥† ÎÇòÎ®∏ÏßÄÎßå Ïª§Î∞ãÌï¥Ï§ò

---

rename Ï§ëÏóê cancelÌïòÎ©¥ ÌòÑÏû¨ rename Ï§ëÏù¥ÏóàÎçò ÏïÑÏù¥ÌÖúÏù¥ ÏÑ†ÌÉùÎêú Ï±ÑÎ°ú Î≥¥Ïù¥Í≤åÎÅî ÏàòÏ†ïÌï¥Ï§ò(ÏßÄÍ∏àÏùÄ ÏûÖÎ†•Ï∞ΩÏúºÎ°ú Ìè¨Ïª§Ïä§Í∞Ä Í∞Ä)

---

ÌòÑÏû¨ ÏÑ†ÌÉùÎêú ÏïÑÏù¥ÌÖúÏù¥ ÏûàÎäîÎç∞ cancelÏùÑ ÎàÑÎ•¥Î©¥ Í∑∏ÎÉ• ÏÑ†ÌÉù Ï∑®ÏÜåÎ°ú Ìï¥Ï§ò. ÏßÄÍ∏àÏùÄ ÏûÖÎ†•Ï∞ΩÏúºÎ°ú Ìè¨Ïª§Ïä§Í∞Ä Í∞Ä

---

ÎÇ¥Í∞Ä light ÌÖåÎßàÎ°ú Ìïú ÏÉÅÌÉúÏóêÏÑú Ïª®ÌÖçÏä§Ìä∏ Î©îÎâ¥Î•º Ïó¥Î©¥ ÏãúÏä§ÌÖú ÌÖåÎßà(Îã§ÌÅ¨)Î°ú Îñ†. ÎùºÏù¥Ìä∏Î°ú ÎùÑÏö∏ Ïàò ÏûàÏñ¥?

---

ÏÇ¨Ïö©ÏûêÍ∞Ä Ï†ÄÏû•Ìïú ÌÖåÎßàÍ∞Ä ÏóÜÎäî ÏÉÅÌÉúÎ°ú Ïã§ÌñâÌïòÎ©¥ ÏãúÏä§ÌÖú ÌÖåÎßàÎ°ú Îú®Í≤å ÎêòÏñ¥ÏûàÏßÄ?

---

Ïùë ÏàòÏ†ïÌï¥Ï§ò

---

ÌôîÎ©¥Ïùò ÏµúÏÜå ÏÇ¨Ïù¥Ï¶àÎ•º ÏßÄÏ†ïÌï¥Ï§ò

---

400 x 300 Ï†ïÎèÑÎ°ú

---

Îã§ÌÅ¨ÌÖåÎßàÏùò name ÏïÑÏù¥ÌÖúÎì§ ÏÉâÏÉÅÏù¥ ÎÑàÎ¨¥ Î∞ùÏßÄÏïäÏïÑ? Ï°∞Í∏à Ï±ÑÎèÑÎ•º ÎÇÆÏ∂îÎ©¥ Ïñ¥Îñ®Íπå?

---

Ï°∞Í∏à Îçî ÎÇÆÏ∂∞Ï§ò

---

Ï°∞Í∏àÎßå Ïò¨Î†§Ï§ò

---

commit

---

conflict ÏàòÏ†ïÌï¥Ï§ò

---

[plugin:vite:import-analysis] Failed to resolve import "overlayscrollbars/overlayscrollbars.css" from "src/App.svelte". Does the file exist?
41 |  import { listen } from '@tauri-apps/api/event';
42 |  import { startDrag } from '@crabnebula/tauri-plugin-drag';
43 |  import 'overlayscrollbars/overlayscrollbars.css';
   |          ^
44 |  import { OverlayScrollbars } from 'overlayscrollbars';
45 |  const file = "src/App.svelte";
    at TransformPluginContext._formatError (file:REDACTED.js:49258:41)
    at TransformPluginContext.error (file:REDACTED.js:49253:16)
    at normalizeUrl (file:REDACTED.js:64307:23)
    at async file:REDACTED.js:64439:39
    at async Promise.all (index 6)
    at async TransformPluginContext.transform (file:REDACTED.js:64366:7)
    at async PluginContainer.transform (file:REDACTED.js:49099:18)
    at async loadAndTransform (file:REDACTED.js:51978:27)
    at async viteTransformMiddleware (file:REDACTED.js:62106:24
Click outside, press Esc key, or fix the code to dismiss.
You can also disable this overlay by setting server.hmr.overlay to false in vite.config.js.

---

Î®∏ÏßÄÌïòÎ©¥ÏÑú ÌôîÎ©¥Ïù¥ ÏôÑÏ†Ñ Íπ®Ï°åÎäîÎç∞? Îã§Ïãú ÌôïÏù∏Ìï¥Ï§ò

---

[Request interrupted by user]

---

commit

---

indexing scanned: 0ÏÉÅÌÉúÏóêÏÑú ÌïúÏ∞∏ÏùÑ Î©àÏ∂∞ÏûàÎã§ scanÏù¥ Ïã§ÌñâÎêêÏñ¥. [startup +0ms] run() entered
[startup +1ms] debug mode: window-state plugin disabled for startup A/B test
[startup] setup_app() entered
[startup] +16ms loading pathignore rules...
[startup] +17ms pathignore done
[startup] +17ms AppState created
[startup] +17ms global shortcut registered
[startup] +17ms setup_app() done, spawning init thread
[startup/thread] init thread started
[startup/thread] +0ms calling init_db...
[init_db] +6ms db_connection opened
[init_db] +6ms version check done (v=4)
[vite/startup +4108ms] --> GET /
[vite/startup +4164ms] <-- 200 GET / (56ms)
[startup/page +618ms] on_page_load label=main event=Started url=http://127.0.0.1:1420/
[vite/startup +4182ms] --> GET /src/main.js
[vite/startup +4184ms] <-- 200 GET /src/main.js (2ms)
[vite/startup +4190ms] --> GET /@vite/client
[vite/startup +4196ms] <-- 200 GET /@vite/client (6ms)
[startup/page +727ms] on_page_load label=main event=Finished url=http://127.0.0.1:1420/
[vite/startup +4288ms] --> GET /src/App.svelte
[vite/startup +4289ms] <-- 200 GET /src/App.svelte (1ms)
[vite/startup +4298ms] --> GET /src/App.svelte?svelte&type=style&lang.css
[vite/startup +4298ms] <-- 200 GET /src/App.svelte?svelte&type=style&lang.css (0ms)
[startup/fe-main] +132ms main.js module start (readyState=interactive)
[startup/fe-main] +160ms App constructed
[rpc/get_index_status] elapsed=0ms state=Indexing snapshot_state=Indexing db_ready=false indexing_active=false entries=0 scanned=0 indexed=0
[startup] frontend_ready=true
[rpc/search] total=3.987ms execute=3.971ms total_count=0.000ms include_total=true query="" mode=db_not_ready sort=name/asc limit=500 offset=0 results=0 total_count=0 total_known=true db_ready=false indexing_active=false
[init_db] +37422ms schema ensured
[init_db] +37422ms total
[startup/thread] +37446ms init_db done
[startup/thread] +37446ms db_ready=true -- launching indexing immediately
[mac] index incomplete; starting full index
[gitignore] building filter (lazy init)...
[startup/housekeeping] refresh_and_emit_status_counts done in 4400ms
[startup/housekeeping] frontend_ready observed after 0ms; purging in 2000ms
[rpc/search] total=452.860ms execute=452.858ms total_count=0.000ms include_total=false query="" mode=empty sort=name/asc limit=500 offset=0 results=500 total_count=0 total_known=false db_ready=true indexing_active=true
[rpc/search] total=548.602ms execute=455.412ms total_count=93.189ms include_total=true query="" mode=empty sort=name/asc limit=500 offset=0 results=500 total_count=1050113 total_known=true db_ready=true indexing_active=true
[startup/housekeeping] purge_ignored_entries done in 7406ms
[startup/housekeeping] all done in 13811ms
[gitignore] filter built in 17592ms

---

index ÏÉùÏÑ±ÏùÄ Ïôú Ïù¥Î†áÍ≤å Ïò§ÎûòÍ±∏Î¶¨ÎäîÍ±∞Ïïº?

---

DB Î≤ÑÏ†ÑÏùÑ Ïò¨Î†§Ï§ò

---

db versionÏù¥ Ïò¨ÎùºÍ∞ÄÎ©¥ Ïã§ÌñâÌñàÏùÑ Îïå ÏïåÏïÑÏÑú DBÍ∞Ä dropÎêòÍ≥† re indexingÏù¥ ÏãúÏûëÎêòÎäîÍ±∞ ÎßûÏïÑ?

---

Í≤ÄÏÉâ Í≤∞Í≥º ÌôîÎ©¥ÏóêÏÑú idle ÏÉÅÌÉúÏûÑÏóêÎèÑ cpuÍ∞Ä 20% Ï†ïÎèÑÎ°ú Ïú†ÏßÄÎêòÎäîÎç∞ ÏôúÍ∑∏Îü∞Í±∞Ïïº?

---

FSEvent watcher Ïä§Î†àÎìú ‚Äî recv_timeout(1s) Î∏îÎ°úÌÇπÏù¥ÏßÄÎßå,
  ÎÇ¥Î∂ÄÏ†ÅÏúºÎ°ú macOS CFRunLoopÏù¥ ÎèåÍ≥† ÏûàÏñ¥ÏÑú ÏïΩÍ∞ÑÏùò CPUÍ∞Ä ÏûàÏùÑ Ïàò
  ÏûàÏäµÎãàÎã§. Ïù¥Í≤å Í∞ÄÏû• ÏùòÏã¨Ïä§Îü¨Ïö¥Îç∞? Ïù¥Í±∏ 10Ï¥àÎ°ú Î∞îÍøîÎ≥ºÎûò?

---

[rpc/search] total=23.689ms execute=23.688ms total_count=0.000ms include_total=false query="" mode=empty sort=name/asc limit=500 offset=0 results=500 total_count=0 total_known=false db_ready=true indexing_active=false

Ïù¥Í≤å ÎèåÎïåÎßàÎã§ 30%Ïù∏Îç∞?

---

Ïó≠Ïãú 1Ï¥àÎßàÎã§ 20~60%ÍπåÏßÄ Ïò¨ÎùºÍ∞Ä. watcherÏ™Ω debounceÎ•º ÎäòÎ¶¨Í≥† Î©îÎ™®Î¶¨Ïóê ÏåìÏïÑÎíÄÎã§Í∞Ä 10Ï¥à ÎßàÎã§ ÌïúÎ≤àÏî© Ï≤òÎ¶¨ÌïòÎ©¥ Ïñ¥Îñ®Íπå?

---

[Request interrupted by user]

---

Ïó≠Ïãú 1Ï¥àÎßàÎã§ 20~60%ÍπåÏßÄ Ïò¨ÎùºÍ∞Ä. watcherÏ™Ω debounceÎ•º ÎäòÎ¶¨Í≥† ÏÉùÏÑ± /Ï†úÍ±∞Îäî Î∞îÎ°ú Ï≤òÎ¶¨ÌïòÏßÄÎßå Î≥ÄÍ≤ΩÏùÄ Î©îÎ™®Î¶¨Ïóê ÏåìÏïÑÎíÄÎã§Í∞Ä 10Ï¥à ÎßàÎã§ ÌïúÎ≤àÏî© Ï≤òÎ¶¨ÌïòÎ©¥ Ïñ¥Îñ®Íπå?

---

Í≤ÄÏÉâ Ï§ëÏù∏Îç∞ Í≤ÄÏÉâÏù¥ Îã§Ïãú Îê† ÌïÑÏöîÎäî ÏóÜÏñ¥. Í∑ºÎç∞ Ï£ºÍ∏∞Ï†ÅÏúºÎ°ú Í≤ÄÏÉâÏù¥ Îã§ÏãúÎèº.

---

ÏïÑÎ¨¥Í≤ÉÎèÑ Í±¥Îì§Ïù¥ÏßÄ ÏïäÎäî idle ÏÉÅÌÉúÏóêÏÑú cpuÍ∞Ä 15~20%Î•º ÏôîÎã§Í∞îÎã§ Ìï¥. cpuÍ∞Ä Í∞ÄÎÅî 30Ïù¥ÏÉÅ Ïò¨ÎùºÍ∞ÄÎäîÎç∞ Î∂ÑÏÑùÌïú Í≤∞Í≥ºÎ•º Ï∞∏Í≥†Ìï¥ÏÑú ÏàòÏ†ïÌï¥Ï§ò

Ï†úÍ≥µÌï¥Ï£ºÏã† ÏÉòÌîåÎßÅ Í≤∞Í≥ºÎ•º Î∂ÑÏÑùÌï¥ Î≥¥Î©¥, ÎåÄÎ∂ÄÎ∂ÑÏùò Ïä§Î†àÎìú(Î©îÏù∏ Ïä§Î†àÎìú, UI Ïù¥Î≤§Ìä∏ Ïä§Î†àÎìú, Tokio ÏõåÏª§ Ïä§Î†àÎìú Îì±)Îäî Ïù¥Î≤§Ìä∏Î•º ÎåÄÍ∏∞ÌïòÎ©∞ Ïâ¨Í≥† ÏûàÎäî ÏÉÅÌÉú(Waiting/Sleeping)ÏûÖÎãàÎã§.

Ïã§Ï†úÎ°ú CPUÎ•º Í∞ÄÏû• ÎßéÏù¥ ÏÜåÎ™®ÌïòÍ≥† ÏûàÎäî Î∂ÄÎ∂ÑÏùÄ **Thread_47544129**ÏóêÏÑú Ïã§Ìñâ Ï§ëÏù∏ SQLite Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ï°∞Ìöå(Query) ÏûëÏóÖÏûÖÎãàÎã§.

Íµ¨Ï≤¥Ï†ÅÏù∏ Î≥ëÎ™© ÏßÄÏ†êÏùÄ Îã§ÏùåÍ≥º Í∞ôÏäµÎãàÎã§:

Ïã§Ìñâ ÌùêÎ¶Ñ: everything::start_fsevent_watcher_worker ‚Üí everything::refresh_and_emit_status_counts ‚Üí everything::update_status_counts ‚Üí everything::update_counts

ÏÉÅÏÑ∏ ÏõêÏù∏ (main.rsÏùò update_counts Ìï®Ïàò):

main.rs:588 ÏúÑÏπòÏùò DB ÏøºÎ¶¨ (432 ÏÉòÌîå / ÏïΩ 432ms): rusqlite::Connection::query_rowÏóêÏÑú ÏïïÎèÑÏ†ÅÏúºÎ°ú ÎßéÏùÄ CPU ÏãúÍ∞ÑÏùÑ ÏÜåÎ™®ÌïòÍ≥† ÏûàÏäµÎãàÎã§. ÎÇ¥Î∂ÄÏ†ÅÏúºÎ°ú SQLiteÏùò sqlite3BtreeNextÏôÄ pread(ÎîîÏä§ÌÅ¨ I/O) Ìò∏Ï∂úÏù¥ Îß§Ïö∞ Ïû¶ÏùÄ Í≤ÉÏúºÎ°ú Î≥¥ÏïÑ, Ïù∏Îç±Ïä§Í∞Ä ÏóÜÎäî Ïª¨ÎüºÏúºÎ°ú Í≤ÄÏÉâ(Full Table Scan)ÏùÑ ÌïòÍ≥† ÏûàÍ±∞ÎÇò Îß§Ïö∞ ÎßéÏùÄ ÏñëÏùò Îç∞Ïù¥ÌÑ∞Î•º ÏàúÌöåÌïòÎ©∞ ÏùΩÏñ¥Ïò§Í≥† ÏûàÏùÑ ÌôïÎ•†Ïù¥ ÎÜíÏäµÎãàÎã§.
main.rs:581 ÏúÑÏπòÏùò DB ÏøºÎ¶¨ (40 ÏÉòÌîå / ÏïΩ 40ms): Ïó¨Í∏∞ÏóêÏÑúÎèÑ Ïú†ÏÇ¨ÌïòÍ≤å Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ï°∞ÌöåÍ∞Ä Î∞úÏÉùÌïòÏó¨ CPUÎ•º ÏÜåÎ™®Ìï©ÎãàÎã§.
üí° Ìï¥Í≤∞ Í∂åÏû• ÏÇ¨Ìï≠:

main.rs ÌååÏùºÏùò 581Î≤àÏß∏ Ï§ÑÍ≥º 588Î≤àÏß∏ Ï§ÑÏóêÏÑú Ïã§ÌñâÎêòÎäî ÏøºÎ¶¨Î•º ÌôïÏù∏Ìï¥ Î≥¥ÏÑ∏Ïöî.
Ìï¥Îãπ ÌÖåÏù¥Î∏îÏóê Ï†ÅÏ†àÌïú Ïù∏Îç±Ïä§(Index)Í∞Ä ÏÉùÏÑ±ÎêòÏñ¥ ÏûàÎäîÏßÄ ÌôïÏù∏ÌïòÍ≥† Ï∂îÍ∞ÄÌïòÎäî Í≤ÉÏùÑ Ï∂îÏ≤úÌï©ÎãàÎã§.
ÏøºÎ¶¨Í∞Ä ÎÑàÎ¨¥ ÏûêÏ£º Ìò∏Ï∂úÎêòÎäî Í≤ÉÏù¥ÎùºÎ©¥(Ïòà: ÌååÏùº Î≥ÄÍ≤Ω Ïù¥Î≤§Ìä∏Í∞Ä Î∞úÏÉùÌï† ÎïåÎßàÎã§ Ï†ÑÏ≤¥ ÏÉÅÌÉúÎ•º Î¨¥Í±∞Ïö¥ ÏøºÎ¶¨Î°ú Îã§Ïãú Í≥ÑÏÇ∞), Ï∫êÏã±ÏùÑ Ï†ÅÏö©ÌïòÍ±∞ÎÇò ÏøºÎ¶¨Î•º ÎçîÏö± Í∞ÄÎ≥çÍ≤å ÏµúÏ†ÅÌôîÌï¥Ïïº Ìï©ÎãàÎã§.

---

<task-notification>
<task-id>b1ba83b</task-id>
<tool-use-id>toolu_013K1oFWGt5XBSfD2kBy3wwC</tool-use-id>
<output-file>REDACTED.output</output-file>
<status>completed</status>
<summary>Background command "Check available FSEvent flag constants" completed (exit code 0)</summary>
</task-notification>
Read the output file to retrieve the result: REDACTED.output

---

Conduct a thorough, line-by-line code review with a critical perspective.

**Usage:**
```bash
/ln:codereview           # Review all uncommitted changes (default)
/ln:codereview all       # Review all uncommitted changes (staged + unstaged)
/ln:codereview unstaged  # Review only unstaged changes
```

## Review Scope

**Mode 1: All uncommitted changes (default)**
- Command: `git diff HEAD` (staged + unstaged)
- Reviews everything not yet committed

**Mode 2: Unstaged only**
- Command: `git diff` (working directory changes only)
- Reviews only files not yet staged

All modes include:
1. **Critical examination**: Line-by-line inspection with skeptical mindset
2. **Pattern validation**: Verify adherence to project conventions and guides

## Review Categories

### Code Quality
- **Clean code**: No TODO comments, no unused code
- **Naming conventions**: Consistent with project standards
- **File organization**: Proper separation of concerns
- **Documentation**: Adequate comments where necessary

### Technical Validation
- **Build verification**: Zero warnings, all tests pass
- **Type safety**: No type errors or unsafe operations
- **Performance**: No memory leaks, efficient algorithms
- **Security**: No hardcoded secrets or vulnerabilities

### Architecture Review
- **Design patterns**: Appropriate use of patterns
- **Dependency management**: Minimal coupling
- **Error handling**: Comprehensive error coverage
- **Concurrency**: Thread safety and race conditions

### Design Principles (OCP/SRP)

**OCP (Open-Closed Principle) violations to catch:**
- Adding `else if` / `switch case` to extend existing behavior
- Modifying stable code instead of creating new modules
- Missing extension points (strategy, registry, plugin patterns)

**SRP (Single Responsibility Principle) violations to catch:**
- One file handling multiple unrelated concerns
- Functions/classes that change for multiple reasons
- God objects or utility dumps

**When found, suggest:**
- Extract new behavior into separate file/class
- Use strategy/registry pattern for extensibility
- Split multi-responsibility files into focused modules

## Review Process

### Step 0: Understand Project Context (MANDATORY)

Before reviewing any code, you MUST understand the project environment:

1. **Read CLAUDE.md** - Check project root and user's `~/.claude/CLAUDE.md` for project-specific conventions
2. **Identify app type** - Read entry points, config files, or main modules to determine:
   - **Platform**: Desktop (Electron) / Mobile (React Native, Flutter, iOS, Android) / Web server / CLI / Library
   - **User model**: Single-user vs Multi-user
   - **Network exposure**: Local-only vs Network-exposed API
3. **Understand architecture** - Scan key files to grasp the overall structure

**Why this matters:**
- Security concerns differ drastically between local desktop app and public API server
- "Memory leak" in a short-lived CLI is irrelevant; in a long-running server it's critical
- Path traversal in local-only app with file dialog is low-risk; in server accepting arbitrary input it's critical

**DO NOT skip this step.** Reviewing without context leads to false positives and wastes everyone's time.

### Step 1: Analyze Changes

Determine review mode from command argument (default: `all`):

**Mode: all (default)**
```bash
git diff HEAD  # All uncommitted changes (staged + unstaged)
```

**Mode: unstaged**
```bash
git diff  # Only unstaged changes
```

### Step 2: Validate Build
- TypeScript: `npx tsc --noEmit`
- Linting: `npm run lint`
- Testing: `npm run test`
- Language-specific checks per development guides

### Step 3: Generate Report

I will provide a structured report with:

#### Critical Issues üö®
- **ONLY** issues that will cause runtime crashes, data loss, or security breaches
- Must be reproducible with concrete steps
- Example: SQL injection, unhandled null causing crash, infinite loop

#### Major Issues ‚ö†Ô∏è
- Issues that cause incorrect behavior users will notice
- Must demonstrate actual failure scenario
- Example: Wrong calculation result, UI not updating, API returning wrong data

#### Minor Issues üí°
- Style violations or optimization opportunities
- Suggestions for improvement
- Example: Inconsistent naming, missing error message

**DO NOT mark as Critical/Major:**
- Theoretical concerns without concrete failure scenario
- "Could potentially cause..." without proof
- Design preferences or "I would do it differently"

#### Positive Highlights ‚úÖ
- Well-implemented patterns
- Good practices observed

## Review Principles

- **No temporary solutions**: Reject workarounds or hacks
- **Complete implementation**: No partial features with TODOs
- **Performance first**: Consider memory, CPU, and I/O impact
- **Build cleanliness**: Zero warnings tolerance
- **Guide compliance**: Follow all development guides in docs/

## ‚õî Anti-Hallucination Rules

Before reporting ANY issue, you MUST:

1. **READ the actual code** - Don't guess based on patterns. Read the exact lines.
2. **TRACE the execution flow** - Follow the code path. If you claim race condition, prove it step by step.
3. **VERIFY the issue exists** - Can you reproduce it? Show concrete scenario.
4. **CHECK context** - What's the runtime environment? Desktop vs server, single-user vs multi-user?
5. **CONFIRM it's not intentional** - fire-and-forget, placeholder values updated later, etc. may be by design.

### Issue Validation Checklist

For each issue you want to report, answer:
1. Did I read the ACTUAL code, not just the diff snippet?
2. Can I show the EXACT line numbers where this fails?
3. Is this a REAL bug or theoretical concern that can't happen in practice?
4. Does the surrounding code already handle this case?

### What NOT to report as issues:
- Singleton with placeholder that gets updated in init/start method
- "Memory leak" in single-user desktop app with bounded data
- "Race condition" when there's already a guard (e.g., `if (this.running) return`)
- Intentional fire-and-forget patterns with error logging
- "Missing cleanup" when cleanup exists in useEffect return or stop() method

## Exclusions (Do NOT Review)

- **Git submodule reference changes only**: Skip dirty submodule states, submodule commit hash changes in the main repo. Source code inside submodules CAN and SHOULD be reviewed when requested.

## Output Format

The review will be delivered as a comprehensive report with:
- Severity-based issue categorization
- Specific line references for each issue
- Concrete suggestions for fixes
- Overall code health assessment

---

[Request interrupted by user]